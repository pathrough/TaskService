@{
    ViewBag.Title = "Login";
}

<form ng-app="formApp" ng-controller="validateCtrl" novalidate name="userForm" role="form" method="post">
    <div class="form-group">
        <input name="userNo" ng-model="userNo" required type="text" class="form-control" placeholder="请输入用户名">
        <span style="color:red;" ng-show="userForm.userNo.$dirty&&userForm.userNo.$invalid">
            <span ng-show="userForm.userNo.$error.required">必须填写用户名</span>
        </span>
    </div>
    <div class="form-group">
        <input name="userPwd" type="password" class="form-control" placeholder="请输入密码">
        <span style="color:red;" ng-show="userForm.userPwd.$dirty&&userForm.userPwd.$invalid">
            <span ng-show="userForm.userPwd.$error.required">请输入密码</span>
        </span>
    </div>
    <div class="checkbox">
        <label>
            <input type="checkbox"> 记住密码
        </label>
    </div>
    <button type="submit" ng-click="processForm()" class="btn btn-primary" ng-disabled="userForm.userNo.$dirty && userForm.userNo.$invalid ||
userForm.userPwd.$dirty && userForm.userPwd.$invalid">
        提交
    </button>
    {{formData}}

</form>
<script>
    var formApp = angular.module('formApp', []);
    function validateCtrl($scope, $http) {
        //$scope.formData = {};
        // process the form
        $scope.processForm = function () {
            //alert("dfdf")
            $http({
                method: 'POST',
                url: '/User/Login',
                data: { userNo:$scope.userNo,userPwd:$scope.userPwd },  // pass in data as strings
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' }  // set the headers so angular passing info as form data (not request payload)
            })
                .success(function (data) {
                    //console.log(data);

                    //if (!data.success) {
                    //    // if not successful, bind errors to error variables
                    //    $scope.errorName = data.errors.name;
                    //    $scope.errorSuperhero = data.errors.superheroAlias;
                    //} else {
                    //    // if successful, bind success message to message
                    //    $scope.message = data.message;
                    //}
                });
        };

    }
</script>

