@{
    ViewBag.Title = "Login";
}

<form ng-app="formApp" ng-controller="validateCtrl" ng-submit="processForm()" novalidate name="userForm" role="form" method="post">
    <div class="form-group">
        <input name="userNo" ng-model="formData.userNo" required type="text" class="form-control" placeholder="请输入用户名">
        <span style="color:red;" ng-show="userForm.userNo.$dirty&&userForm.userNo.$invalid">
            <span ng-show="userForm.userNo.$error.required">必须填写用户名</span>
        </span>
    </div>
    <div class="form-group">
        <input name="userPwd" ng-model="formData.userPwd" type="password" class="form-control" placeholder="请输入密码">
        <span style="color:red;" ng-show="userForm.userPwd.$dirty&&userForm.userPwd.$invalid">
            <span ng-show="userForm.userPwd.$error.required">请输入密码</span>
        </span>
    </div>
    <div class="checkbox">
        <label>
            <input type="checkbox"> 记住密码
        </label>
    </div>
    <button type="submit" class="btn btn-primary" ng-disabled="userForm.userNo.$dirty && userForm.userNo.$invalid ||
userForm.userPwd.$dirty && userForm.userPwd.$invalid">
        提交
    </button>
    {{formData}}

</form>
<script>
    var formApp = angular.module('formApp', []);
    function validateCtrl($scope, $http) {
        $scope.formData = {};
        // process the form
        $scope.processForm = function () {
            $http.post("/User/Login", $scope.formData)
           
            .success(function (data) {
                console.log(data);
                //if (data.success) {
                //    alert("chenggong")
                //} else {
                //    alert("shibai")
                //}
                alert(data.Msg);
                //if(data.Result=1)
                //{
                //    alert(1); 
                //}
            }).error(function () {
                alert("erroe");
            });


        };

    }
</script>

